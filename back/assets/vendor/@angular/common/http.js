/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/@angular/common@19.2.5/fesm2022/http.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as e from"@angular/core";import{InjectionToken as t,ɵRuntimeError as r,Injectable as s,inject as n,NgZone as o,ɵPendingTasksInternal as a,PLATFORM_ID as i,ɵConsole as d,ɵformatRuntimeError as c,Inject as l,runInInjectionContext as u,NgModule as p,makeEnvironmentProviders as h,assertInInjectionContext as m,Injector as y,ɵResourceImpl as f,linkedSignal as g,computed as v,ResourceStatus as b,signal as T,ɵperformanceMarkFeature as w,APP_BOOTSTRAP_LISTENER as C,ApplicationRef as E,TransferState as I,makeStateKey as P,ɵtruncateMiddle as R}from"@angular/core";import{concatMap as x,filter as N,map as S,finalize as M,switchMap as D,tap as k}from"rxjs/operators";import{of as A,Observable as F,from as j}from"rxjs";
/**
 * @license Angular v19.2.5
 * (c) 2010-2025 Google LLC. https://angular.io/
 * License: MIT
 */class O{}
/**
 * @license Angular v19.2.5
 * (c) 2010-2025 Google LLC. https://angular.io/
 * License: MIT
 */const H=new t(ngDevMode?"DocumentToken":"");class L{}class V{}class U{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach((e=>{const t=e.indexOf(":");if(t>0){const r=e.slice(0,t),s=e.slice(t+1).trim();this.addHeaderEntry(r,s)}}))}:"undefined"!=typeof Headers&&e instanceof Headers?(this.headers=new Map,e.forEach(((e,t)=>{this.addHeaderEntry(t,e)}))):this.lazyInit=()=>{("undefined"==typeof ngDevMode||ngDevMode)&&function(e){for(const[t,r]of Object.entries(e))if("string"!=typeof r&&"number"!=typeof r&&!Array.isArray(r))throw new Error(`Unexpected value of the \`${t}\` header provided. Expecting either a string, a number or an array, but got: \`${r}\`.`)}(e),this.headers=new Map,Object.entries(e).forEach((([e,t])=>{this.setHeaderEntries(e,t)}))}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((e=>this.applyUpdate(e))),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach((t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))}))}clone(e){const t=new U;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const n=e.value;if(n){let e=this.headers.get(t);if(!e)return;e=e.filter((e=>-1===n.indexOf(e))),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(e,t){const r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map((e=>e.toString())),s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach((t=>e(this.normalizedNames.get(t),this.headers.get(t))))}}class q{encodeKey(e){return B(e)}encodeValue(e){return B(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const _=/%(\d[a-f0-9])/gi,z={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function B(e){return encodeURIComponent(e).replace(_,((e,t)=>z[t]??e))}function J(e){return`${e}`}class ${map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new q,e.fromString){if(e.fromObject)throw new r(2805,ngDevMode&&"Cannot specify both fromString and fromObject.");this.map=function(e,t){const r=new Map;e.length>0&&e.replace(/^\?/,"").split("&").forEach((e=>{const s=e.indexOf("="),[n,o]=-1==s?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,s)),t.decodeValue(e.slice(s+1))],a=r.get(n)||[];a.push(o),r.set(n,a)}));return r}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(J):[J(r)];this.map.set(t,s)}))):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach((r=>{const s=e[r];Array.isArray(s)?s.forEach((e=>{t.push({param:r,value:e,op:"a"})})):t.push({param:r,value:s,op:"a"})})),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map((e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map((e=>t+"="+this.encoder.encodeValue(e))).join("&")})).filter((e=>""!==e)).join("&")}clone(e){const t=new $({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((e=>this.map.set(e,this.cloneFrom.map.get(e)))),this.updates.forEach((e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(J(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const r=t.indexOf(J(e.value));-1!==r&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}})),this.cloneFrom=this.updates=null)}}class X{defaultValue;constructor(e){this.defaultValue=e}}class G{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function K(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function W(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Z(e){return"undefined"!=typeof FormData&&e instanceof FormData}const Y="Content-Type",Q="Accept",ee="X-Request-URL",te="text/plain",re="application/json",se=`${re}, ${te}, */*`;class ne{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,s){let n;if(this.url=t,this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,n=s):n=r,n&&(this.reportProgress=!!n.reportProgress,this.withCredentials=!!n.withCredentials,n.responseType&&(this.responseType=n.responseType),n.headers&&(this.headers=n.headers),n.context&&(this.context=n.context),n.params&&(this.params=n.params),this.transferCache=n.transferCache),this.headers??=new U,this.context??=new G,this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const r=t.indexOf("?"),s=-1===r?"?":r<t.length-1?"&":"";this.urlWithParams=t+s+e}}else this.params=new $,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||K(this.body)||W(this.body)||Z(this.body)||(e=this.body,"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams)?this.body:this.body instanceof $?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString();var e}detectContentTypeHeader(){return null===this.body||Z(this.body)?null:W(this.body)?this.body.type||null:K(this.body)?null:"string"==typeof this.body?te:this.body instanceof $?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?re:null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,n=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,i=e.reportProgress??this.reportProgress;let d=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(d=Object.keys(e.setHeaders).reduce(((t,r)=>t.set(r,e.setHeaders[r])),d)),e.setParams&&(c=Object.keys(e.setParams).reduce(((t,r)=>t.set(r,e.setParams[r])),c)),new ne(t,r,o,{params:c,headers:d,context:l,reportProgress:i,responseType:s,withCredentials:a,transferCache:n})}}var oe;!function(e){e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User"}(oe||(oe={}));class ae{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new U,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ie extends ae{constructor(e={}){super(e)}type=oe.ResponseHeader;clone(e={}){return new ie({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class de extends ae{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=oe.Response;clone(e={}){return new de({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ce extends ae{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var le;function ue(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}!function(e){e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired"}(le||(le={}));class pe{handler;constructor(e){this.handler=e}request(e,t,s={}){let n;if(e instanceof ne)n=e;else{let r,o;r=s.headers instanceof U?s.headers:new U(s.headers),s.params&&(o=s.params instanceof $?s.params:new $({fromObject:s.params})),n=new ne(e,t,void 0!==s.body?s.body:null,{headers:r,context:s.context,params:o,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}const o=A(n).pipe(x((e=>this.handler.handle(e))));if(e instanceof ne||"events"===s.observe)return o;const a=o.pipe(N((e=>e instanceof de)));switch(s.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return a.pipe(S((e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new r(2806,ngDevMode&&"Response is not an ArrayBuffer.");return e.body})));case"blob":return a.pipe(S((e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new r(2807,ngDevMode&&"Response is not a Blob.");return e.body})));case"text":return a.pipe(S((e=>{if(null!==e.body&&"string"!=typeof e.body)throw new r(2808,ngDevMode&&"Response is not a string.");return e.body})));default:return a.pipe(S((e=>e.body)))}case"response":return a;default:throw new r(2809,ngDevMode&&`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new $).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,r={}){return this.request("PATCH",e,ue(r,t))}post(e,t,r={}){return this.request("POST",e,ue(r,t))}put(e,t,r={}){return this.request("PUT",e,ue(r,t))}static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:pe,deps:[{token:L}],target:e.ɵɵFactoryTarget.Injectable});static"ɵprov"=e.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:pe})}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:pe,decorators:[{type:s}],ctorParameters:()=>[{type:L}]});const he=/^\)\]\}',?\n/;function me(e){if(e.url)return e.url;const t=ee.toLocaleLowerCase();return e.headers.get(t)}const ye=new t("undefined"==typeof ngDevMode||ngDevMode?"FETCH_BACKEND":"");class fe{fetchImpl=n(ge,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=n(o);handle(e){return new F((t=>{const r=new AbortController;return this.doRequest(e,r.signal,t).then(ve,(e=>t.error(new ce({error:e})))),()=>r.abort()}))}async doRequest(e,t,r){const s=this.createRequestInit(e);let n;try{const o=this.ngZone.runOutsideAngular((()=>this.fetchImpl(e.urlWithParams,{signal:t,...s})));o.then(ve,ve),r.next({type:oe.Sent}),n=await o}catch(t){return void r.error(new ce({error:t,status:t.status??0,statusText:t.statusText,url:e.urlWithParams,headers:t.headers}))}const o=new U(n.headers),a=n.statusText,i=me(n)??e.urlWithParams;let d=n.status,c=null;if(e.reportProgress&&r.next(new ie({headers:o,status:d,statusText:a,url:i})),n.body){const t=n.headers.get("content-length"),s=[],o=n.body.getReader();let a,i,d=0;const l="undefined"!=typeof Zone&&Zone.current;await this.ngZone.runOutsideAngular((async()=>{for(;;){const{done:n,value:c}=await o.read();if(n)break;if(s.push(c),d+=c.length,e.reportProgress){i="text"===e.responseType?(i??"")+(a??=new TextDecoder).decode(c,{stream:!0}):void 0;const s=()=>r.next({type:oe.DownloadProgress,total:t?+t:void 0,loaded:d,partialText:i});l?l.run(s):s()}}}));const u=this.concatChunks(s,d);try{const t=n.headers.get(Y)??"";c=this.parseBody(e,u,t)}catch(t){return void r.error(new ce({error:t,headers:new U(n.headers),status:n.status,statusText:n.statusText,url:me(n)??e.urlWithParams}))}}0===d&&(d=c?200:0);d>=200&&d<300?(r.next(new de({body:c,headers:o,status:d,statusText:a,url:i})),r.complete()):r.error(new ce({error:c,headers:o,status:d,statusText:a,url:i}))}parseBody(e,t,r){switch(e.responseType){case"json":const e=(new TextDecoder).decode(t).replace(he,"");return""===e?null:JSON.parse(e);case"text":return(new TextDecoder).decode(t);case"blob":return new Blob([t],{type:r});case"arraybuffer":return t.buffer}}createRequestInit(e){const t={},r=e.withCredentials?"include":void 0;if(e.headers.forEach(((e,r)=>t[e]=r.join(","))),e.headers.has(Q)||(t[Q]=se),!e.headers.has(Y)){const r=e.detectContentTypeHeader();null!==r&&(t[Y]=r)}return{body:e.serializeBody(),method:e.method,headers:t,credentials:r}}concatChunks(e,t){const r=new Uint8Array(t);let s=0;for(const t of e)r.set(t,s),s+=t.length;return r}static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:fe,deps:[],target:e.ɵɵFactoryTarget.Injectable});static"ɵprov"=e.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:fe})}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:fe,decorators:[{type:s}]});class ge{}function ve(){}function be(e,t){return t(e)}function Te(e,t){return(r,s)=>t.intercept(r,{handle:t=>e(t,s)})}const we=new t(ngDevMode?"HTTP_INTERCEPTORS":""),Ce=new t(ngDevMode?"HTTP_INTERCEPTOR_FNS":""),Ee=new t(ngDevMode?"HTTP_ROOT_INTERCEPTOR_FNS":""),Ie=new t(ngDevMode?"REQUESTS_CONTRIBUTE_TO_STABILITY":"",{providedIn:"root",factory:()=>!0});function Pe(){let e=null;return(t,r)=>{if(null===e){const t=n(we,{optional:!0})??[];e=t.reduceRight(Te,be)}const s=n(a);if(n(Ie)){const n=s.add();return e(t,r).pipe(M((()=>s.remove(n))))}return e(t,r)}}let Re=!1;class xe extends L{backend;injector;chain=null;pendingTasks=n(a);contributeToStability=n(Ie);constructor(e,t){if(super(),this.backend=e,this.injector=t,("undefined"==typeof ngDevMode||ngDevMode)&&!Re){const e="server"===t.get(i),r=this.backend.isTestingBackend;!e||this.backend instanceof fe||r||(Re=!0,t.get(d).warn(c(2801,"Angular detected that `HttpClient` is not configured to use `fetch` APIs. It's strongly recommended to enable `fetch` for applications that use Server-Side Rendering for better performance and compatibility. To enable `fetch`, add the `withFetch()` to the `provideHttpClient()` call at the root of the application.")))}}handle(e){if(null===this.chain){const e=Array.from(new Set([...this.injector.get(Ce),...this.injector.get(Ee,[])]));this.chain=e.reduceRight(((e,t)=>function(e,t,r){return(s,n)=>u(r,(()=>t(s,(t=>e(t,n)))))}(e,t,this.injector)),be)}if(this.contributeToStability){const t=this.pendingTasks.add();return this.chain(e,(e=>this.backend.handle(e))).pipe(M((()=>this.pendingTasks.remove(t))))}return this.chain(e,(e=>this.backend.handle(e)))}static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:xe,deps:[{token:V},{token:e.EnvironmentInjector}],target:e.ɵɵFactoryTarget.Injectable});static"ɵprov"=e.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:xe})}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:xe,decorators:[{type:s}],ctorParameters:()=>[{type:V},{type:e.EnvironmentInjector}]});let Ne,Se=0;class Me{}function De(){return"object"==typeof window?window:{}}class ke{callbackMap;document;resolvedPromise=Promise.resolve();constructor(e,t){this.callbackMap=e,this.document=t}nextCallback(){return"ng_jsonp_callback_"+Se++}handle(e){if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");if(e.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new F((t=>{const r=this.nextCallback(),s=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${r}$1`),n=this.document.createElement("script");n.src=s;let o=null,a=!1;this.callbackMap[r]=e=>{delete this.callbackMap[r],o=e,a=!0};const i=()=>{n.removeEventListener("load",d),n.removeEventListener("error",c),n.remove(),delete this.callbackMap[r]},d=e=>{this.resolvedPromise.then((()=>{i(),a?(t.next(new de({body:o,status:200,statusText:"OK",url:s})),t.complete()):t.error(new ce({url:s,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))}))},c=e=>{i(),t.error(new ce({error:e,status:0,statusText:"JSONP Error",url:s}))};return n.addEventListener("load",d),n.addEventListener("error",c),this.document.body.appendChild(n),t.next({type:oe.Sent}),()=>{a||this.removeListeners(n),i()}}))}removeListeners(e){Ne??=this.document.implementation.createHTMLDocument(),Ne.adoptNode(e)}static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:ke,deps:[{token:Me},{token:H}],target:e.ɵɵFactoryTarget.Injectable});static"ɵprov"=e.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:ke})}function Ae(e,t){return"JSONP"===e.method?n(ke).handle(e):t(e)}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:ke,decorators:[{type:s}],ctorParameters:()=>[{type:Me},{type:void 0,decorators:[{type:l,args:[H]}]}]});class Fe{injector;constructor(e){this.injector=e}intercept(e,t){return u(this.injector,(()=>Ae(e,(e=>t.handle(e)))))}static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:Fe,deps:[{token:e.EnvironmentInjector}],target:e.ɵɵFactoryTarget.Injectable});static"ɵprov"=e.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:Fe})}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:Fe,decorators:[{type:s}],ctorParameters:()=>[{type:e.EnvironmentInjector}]});const je=/^\)\]\}',?\n/,Oe=RegExp(`^${ee}:`,"m");class He{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new r(-2800,("undefined"==typeof ngDevMode||ngDevMode)&&"Cannot make a JSONP request without JSONP support. To fix the problem, either add the `withJsonpSupport()` call (if `provideHttpClient()` is used) or import the `HttpClientJsonpModule` in the root NgModule.");const t=this.xhrFactory;return(t.ɵloadImpl?j(t.ɵloadImpl()):A(null)).pipe(D((()=>new F((r=>{const s=t.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach(((e,t)=>s.setRequestHeader(e,t.join(",")))),e.headers.has(Q)||s.setRequestHeader(Q,se),!e.headers.has(Y)){const t=e.detectContentTypeHeader();null!==t&&s.setRequestHeader(Y,t)}if(e.responseType){const t=e.responseType.toLowerCase();s.responseType="json"!==t?t:"text"}const n=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const t=s.statusText||"OK",r=new U(s.getAllResponseHeaders()),n=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:Oe.test(e.getAllResponseHeaders())?e.getResponseHeader(ee):null}(s)||e.url;return o=new ie({headers:r,status:s.status,statusText:t,url:n}),o},i=()=>{let{headers:t,status:n,statusText:o,url:i}=a(),d=null;204!==n&&(d=void 0===s.response?s.responseText:s.response),0===n&&(n=d?200:0);let c=n>=200&&n<300;if("json"===e.responseType&&"string"==typeof d){const e=d;d=d.replace(je,"");try{d=""!==d?JSON.parse(d):null}catch(t){d=e,c&&(c=!1,d={error:t,text:d})}}c?(r.next(new de({body:d,headers:t,status:n,statusText:o,url:i||void 0})),r.complete()):r.error(new ce({error:d,headers:t,status:n,statusText:o,url:i||void 0}))},d=e=>{const{url:t}=a(),n=new ce({error:e,status:s.status||0,statusText:s.statusText||"Unknown Error",url:t||void 0});r.error(n)};let c=!1;const l=t=>{c||(r.next(a()),c=!0);let n={type:oe.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),"text"===e.responseType&&s.responseText&&(n.partialText=s.responseText),r.next(n)},u=e=>{let t={type:oe.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),r.next(t)};return s.addEventListener("load",i),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",l),null!==n&&s.upload&&s.upload.addEventListener("progress",u)),s.send(n),r.next({type:oe.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",i),s.removeEventListener("timeout",d),e.reportProgress&&(s.removeEventListener("progress",l),null!==n&&s.upload&&s.upload.removeEventListener("progress",u)),s.readyState!==s.DONE&&s.abort()}})))))}static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:He,deps:[{token:O}],target:e.ɵɵFactoryTarget.Injectable});static"ɵprov"=e.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:He})}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:He,decorators:[{type:s}],ctorParameters:()=>[{type:O}]});const Le=new t(ngDevMode?"XSRF_ENABLED":""),Ve="XSRF-TOKEN",Ue=new t(ngDevMode?"XSRF_COOKIE_NAME":"",{providedIn:"root",factory:()=>Ve}),qe="X-XSRF-TOKEN",_e=new t(ngDevMode?"XSRF_HEADER_NAME":"",{providedIn:"root",factory:()=>qe});class ze{}class Be{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,t,r){this.doc=e,this.platform=t,this.cookieName=r}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=function(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const e=r.indexOf("="),[s,n]=-1==e?[r,""]:[r.slice(0,e),r.slice(e+1)];if(s.trim()===t)return decodeURIComponent(n)}return null}(e,this.cookieName),this.lastCookieString=e),this.lastToken}static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:Be,deps:[{token:H},{token:i},{token:Ue}],target:e.ɵɵFactoryTarget.Injectable});static"ɵprov"=e.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:Be})}function Je(e,t){const r=e.url.toLowerCase();if(!n(Le)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const s=n(ze).getToken(),o=n(_e);return null==s||e.headers.has(o)||(e=e.clone({headers:e.headers.set(o,s)})),t(e)}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:Be,decorators:[{type:s}],ctorParameters:()=>[{type:void 0,decorators:[{type:l,args:[H]}]},{type:void 0,decorators:[{type:l,args:[i]}]},{type:void 0,decorators:[{type:l,args:[Ue]}]}]});class $e{injector;constructor(e){this.injector=e}intercept(e,t){return u(this.injector,(()=>Je(e,(e=>t.handle(e)))))}static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:$e,deps:[{token:e.EnvironmentInjector}],target:e.ɵɵFactoryTarget.Injectable});static"ɵprov"=e.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:$e})}var Xe;function Ge(e,t){return{"ɵkind":e,"ɵproviders":t}}function Ke(...e){if(ngDevMode){const t=new Set(e.map((e=>e.ɵkind)));if(t.has(Xe.NoXsrfProtection)&&t.has(Xe.CustomXsrfConfiguration))throw new Error(ngDevMode?"Configuration error: found both withXsrfConfiguration() and withNoXsrfProtection() in the same call to provideHttpClient(), which is a contradiction.":"")}const t=[pe,He,xe,{provide:L,useExisting:xe},{provide:V,useFactory:()=>n(ye,{optional:!0})??n(He)},{provide:Ce,useValue:Je,multi:!0},{provide:Le,useValue:!0},{provide:ze,useClass:Be}];for(const r of e)t.push(...r.ɵproviders);return h(t)}function We(e){return Ge(Xe.Interceptors,e.map((e=>({provide:Ce,useValue:e,multi:!0}))))}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:$e,decorators:[{type:s}],ctorParameters:()=>[{type:e.EnvironmentInjector}]}),function(e){e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch"}(Xe||(Xe={}));const Ze=new t(ngDevMode?"LEGACY_INTERCEPTOR_FN":"");function Ye(){return Ge(Xe.LegacyInterceptors,[{provide:Ze,useFactory:Pe},{provide:Ce,useExisting:Ze,multi:!0}])}function Qe({cookieName:e,headerName:t}){const r=[];return void 0!==e&&r.push({provide:Ue,useValue:e}),void 0!==t&&r.push({provide:_e,useValue:t}),Ge(Xe.CustomXsrfConfiguration,r)}function et(){return Ge(Xe.NoXsrfProtection,[{provide:Le,useValue:!1}])}function tt(){return Ge(Xe.JsonpSupport,[ke,{provide:Me,useFactory:De},{provide:Ce,useValue:Ae,multi:!0}])}function rt(){return Ge(Xe.RequestsMadeViaParent,[{provide:V,useFactory:()=>{const e=n(L,{skipSelf:!0,optional:!0});if(ngDevMode&&null===e)throw new Error("withRequestsMadeViaParent() can only be used when the parent injector also configures HttpClient");return e}}])}function st(){return Ge(Xe.Fetch,[fe,{provide:ye,useExisting:fe},{provide:V,useExisting:fe}])}class nt{static disable(){return{ngModule:nt,providers:[et().ɵproviders]}}static withOptions(e={}){return{ngModule:nt,providers:Qe(e).ɵproviders}}static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:nt,deps:[],target:e.ɵɵFactoryTarget.NgModule});static"ɵmod"=e.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"19.2.5",ngImport:e,type:nt});static"ɵinj"=e.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:nt,providers:[$e,{provide:we,useExisting:$e,multi:!0},{provide:ze,useClass:Be},Qe({cookieName:Ve,headerName:qe}).ɵproviders,{provide:Le,useValue:!0}]})}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:nt,decorators:[{type:p,args:[{providers:[$e,{provide:we,useExisting:$e,multi:!0},{provide:ze,useClass:Be},Qe({cookieName:Ve,headerName:qe}).ɵproviders,{provide:Le,useValue:!0}]}]}]});class ot{static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:ot,deps:[],target:e.ɵɵFactoryTarget.NgModule});static"ɵmod"=e.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"19.2.5",ngImport:e,type:ot});static"ɵinj"=e.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:ot,providers:[Ke(Ye())]})}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:ot,decorators:[{type:p,args:[{providers:[Ke(Ye())]}]}]});class at{static"ɵfac"=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:at,deps:[],target:e.ɵɵFactoryTarget.NgModule});static"ɵmod"=e.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"19.2.5",ngImport:e,type:at});static"ɵinj"=e.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:at,providers:[tt().ɵproviders]})}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"19.2.5",ngImport:e,type:at,decorators:[{type:p,args:[{providers:[tt().ɵproviders]}]}]});const it=(()=>{const e=dt("json");return e.arrayBuffer=dt("arraybuffer"),e.blob=dt("blob"),e.text=dt("text"),e})();function dt(e){return function(t,r){r?.injector||m(it);const s=r?.injector??n(y);return new ct(s,(()=>function(e,t){let r="function"==typeof e?e():e;if(void 0===r)return;"string"==typeof r&&(r={url:r});const s=r.headers instanceof U?r.headers:new U(r.headers),n=r.params instanceof $?r.params:new $({fromObject:r.params});return new ne(r.method??"GET",r.url,r.body??null,{headers:s,params:n,reportProgress:r.reportProgress,withCredentials:r.withCredentials,responseType:t,context:r.context,transferCache:r.transferCache})}(t,e)),r?.defaultValue,r?.parse,r?.equal)}}class ct extends f{client;_headers=g({source:this.extRequest,computation:()=>{}});_progress=g({source:this.extRequest,computation:()=>{}});_statusCode=g({source:this.extRequest,computation:()=>{}});headers=v((()=>this.status()===b.Resolved||this.status()===b.Error?this._headers():void 0));progress=this._progress.asReadonly();statusCode=this._statusCode.asReadonly();constructor(e,t,r,s,n){super(t,(({request:e,abortSignal:t})=>{let r;const n=()=>r.unsubscribe();t.addEventListener("abort",n);const o=T({value:void 0});let a;const i=new Promise((e=>a=e)),d=e=>{o.set(e),a?.(o),a=void 0};return r=this.client.request(e).subscribe({next:e=>{switch(e.type){case oe.Response:this._headers.set(e.headers),this._statusCode.set(e.status);try{d({value:s?s(e.body):e.body})}catch(e){d({error:e})}break;case oe.DownloadProgress:this._progress.set(e)}},error:e=>d({error:e}),complete:()=>{a&&d({error:new Error("Resource completed before producing a value")}),t.removeEventListener("abort",n)}}),i}),r,n,e),this.client=e.get(pe)}}const lt=new t(ngDevMode?"HTTP_TRANSFER_CACHE_ORIGIN_MAP":""),ut="b",pt="h",ht="s",mt="st",yt="u",ft="rt",gt=new t(ngDevMode?"HTTP_TRANSFER_STATE_CACHE_OPTIONS":""),vt=["GET","HEAD"];function bt(e,t){const{isCacheActive:s,...o}=n(gt),{transferCache:a,method:i}=e;if(!s||!1===a||"POST"===i&&!o.includePostRequests&&!a||"POST"!==i&&!vt.includes(i)||!o.includeRequestsWithAuthHeaders&&function(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}(e)||!1===o.filter?.(e))return t(e);const d=n(I),l=n(lt,{optional:!0});if("undefined"!=typeof ngServerMode&&!ngServerMode&&l)throw new r(2803,ngDevMode&&"Angular detected that the `HTTP_TRANSFER_CACHE_ORIGIN_MAP` token is configured and present in the client side code. Please ensure that this token is only provided in the server code of the application.");const u="undefined"!=typeof ngServerMode&&ngServerMode&&l?function(e,t){const s=new URL(e,"resolve://").origin,n=t[s];if(!n)return e;("undefined"==typeof ngDevMode||ngDevMode)&&function(e){if("/"!==new URL(e,"resolve://").pathname)throw new r(2804,`Angular detected a URL with a path segment in the value provided for the \`HTTP_TRANSFER_CACHE_ORIGIN_MAP\` token: ${e}. The map should only contain origins without any other segments.`)}(n);return e.replace(s,n)}(e.url,l):e.url,p=function(e,t){const{params:r,method:s,responseType:n}=e,o=wt(r);let a=e.serializeBody();a instanceof URLSearchParams?a=wt(a):"string"!=typeof a&&(a="");const i=function(e){let t=0;for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)|0;return t+=2147483648,t.toString()}([s,n,t,a,o].join("|"));return P(i)}(e,u),h=d.get(p,null);let m=o.includeHeaders;if("object"==typeof a&&a.includeHeaders&&(m=a.includeHeaders),h){const{[ut]:t,[ft]:r,[pt]:s,[ht]:n,[mt]:o,[yt]:a}=h;let i=t;switch(r){case"arraybuffer":i=(new TextEncoder).encode(t).buffer;break;case"blob":i=new Blob([t])}let d=new U(s);return("undefined"==typeof ngDevMode||ngDevMode)&&(d=function(e,t,r){const s=new Set;return new Proxy(t,{get(t,n){const o=Reflect.get(t,n),a=new Set(["get","has","getAll"]);return"function"==typeof o&&a.has(n)?a=>{const i=(n+":"+a).toLowerCase();if(!r.includes(a)&&!s.has(i)){s.add(i);const t=R(e);console.warn(c(2802,`Angular detected that the \`${a}\` header is accessed, but the value of the header was not transferred from the server to the client by the HttpTransferCache. To include the value of the \`${a}\` header for the \`${t}\` request, use the \`includeHeaders\` list. The \`includeHeaders\` can be defined either on a request level by adding the \`transferCache\` parameter, or on an application level by adding the \`httpCacheTransfer.includeHeaders\` argument to the \`provideClientHydration()\` call. `))}return o.apply(t,[a])}:o}})}(e.url,d,m??[])),A(new de({body:i,headers:d,status:n,statusText:o,url:a}))}return t(e).pipe(k((t=>{t instanceof de&&"undefined"!=typeof ngServerMode&&ngServerMode&&d.set(p,{[ut]:t.body,[pt]:Tt(t.headers,m),[ht]:t.status,[mt]:t.statusText,[yt]:u,[ft]:e.responseType})})))}function Tt(e,t){if(!t)return{};const r={};for(const s of t){const t=e.getAll(s);null!==t&&(r[s]=t)}return r}function wt(e){return[...e.keys()].sort().map((t=>`${t}=${e.getAll(t)}`)).join("&")}function Ct(e){return[{provide:gt,useFactory:()=>(w("NgHttpTransferCache"),{isCacheActive:!0,...e})},{provide:Ee,useValue:bt,multi:!0},{provide:C,multi:!0,useFactory:()=>{const e=n(E),t=n(gt);return()=>{e.whenStable().then((()=>{t.isCacheActive=!1}))}}}]}export{fe as FetchBackend,we as HTTP_INTERCEPTORS,lt as HTTP_TRANSFER_CACHE_ORIGIN_MAP,V as HttpBackend,pe as HttpClient,at as HttpClientJsonpModule,ot as HttpClientModule,nt as HttpClientXsrfModule,G as HttpContext,X as HttpContextToken,ce as HttpErrorResponse,oe as HttpEventType,Xe as HttpFeatureKind,L as HttpHandler,ie as HttpHeaderResponse,U as HttpHeaders,$ as HttpParams,ne as HttpRequest,de as HttpResponse,ae as HttpResponseBase,le as HttpStatusCode,q as HttpUrlEncodingCodec,He as HttpXhrBackend,ze as HttpXsrfTokenExtractor,ke as JsonpClientBackend,Fe as JsonpInterceptor,it as httpResource,Ke as provideHttpClient,st as withFetch,We as withInterceptors,Ye as withInterceptorsFromDi,tt as withJsonpSupport,et as withNoXsrfProtection,rt as withRequestsMadeViaParent,Qe as withXsrfConfiguration,Ee as ɵHTTP_ROOT_INTERCEPTOR_FNS,xe as ɵHttpInterceptingHandler,xe as ɵHttpInterceptorHandler,Ie as ɵREQUESTS_CONTRIBUTE_TO_STABILITY,Ct as ɵwithHttpTransferCache};export default null;
