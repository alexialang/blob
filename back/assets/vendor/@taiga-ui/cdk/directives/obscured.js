/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/@taiga-ui/cdk@4.36.0/fesm2022/taiga-ui-cdk-directives-obscured.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as e from"@angular/core";import{inject as t,Injectable as r,Directive as s,Output as i,Input as o}from"@angular/core";import{TuiActiveZone as n}from"@taiga-ui/cdk/directives/active-zone";import{tuiZonefreeScheduler as a,tuiZoneOptimized as c,tuiIfMap as p}from"@taiga-ui/cdk/observables";import{Observable as m,throttleTime as u,map as d,startWith as l,distinctUntilChanged as b,BehaviorSubject as g}from"rxjs";import{WA_ANIMATION_FRAME as v}from"@ng-web-apis/common";import{tuiInjectElement as h,tuiGetElementObscures as y}from"@taiga-ui/cdk/utils/dom";class f extends m{constructor(){super((e=>this.obscured$.subscribe(e))),this.el=h(),this.obscured$=t(v).pipe(u(100,a()),d((()=>y(this.el))),l(null),b(),c())}static{this.ɵfac=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"16.2.12",ngImport:e,type:f,deps:[],target:e.ɵɵFactoryTarget.Injectable})}static{this.ɵprov=e.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"16.2.12",ngImport:e,type:f})}}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"16.2.12",ngImport:e,type:f,decorators:[{type:r}],ctorParameters:function(){return[]}});class O{constructor(){this.activeZone=t(n,{optional:!0}),this.enabled$=new g(!1),this.obscured$=t(f,{self:!0}).pipe(d((e=>!!e?.every((e=>!this.activeZone?.contains(e)))))),this.tuiObscured=this.enabled$.pipe(p((()=>this.obscured$)))}set tuiObscuredEnabled(e){this.enabled$.next(e)}static{this.ɵfac=e.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"16.2.12",ngImport:e,type:O,deps:[],target:e.ɵɵFactoryTarget.Directive})}static{this.ɵdir=e.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"16.2.12",type:O,isStandalone:!0,selector:"[tuiObscured]",inputs:{tuiObscuredEnabled:"tuiObscuredEnabled"},outputs:{tuiObscured:"tuiObscured"},providers:[f],ngImport:e})}}e.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"16.2.12",ngImport:e,type:O,decorators:[{type:s,args:[{standalone:!0,selector:"[tuiObscured]",providers:[f]}]}],propDecorators:{tuiObscured:[{type:i}],tuiObscuredEnabled:[{type:o}]}});export{O as TuiObscured,f as TuiObscuredService};export default null;
