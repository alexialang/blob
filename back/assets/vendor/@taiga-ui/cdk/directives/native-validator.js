/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/@taiga-ui/cdk@4.36.0/fesm2022/taiga-ui-cdk-directives-native-validator.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as t from"@angular/core";import{Directive as i,Input as a}from"@angular/core";import{NG_VALIDATORS as e}from"@angular/forms";import{tuiZonefree as o,tuiTakeUntilDestroyed as r}from"@taiga-ui/cdk/observables";import{tuiInjectElement as s,tuiProvide as n}from"@taiga-ui/cdk/utils";import{BehaviorSubject as l,switchMap as m,of as d,delay as u}from"rxjs";class c{constructor(){this.el=s(),this.control$=new l(null),this.sub=this.control$.pipe(m((t=>t?.events||d(null))),u(0),o(),r()).subscribe((()=>this.handleValidation())),this.tuiNativeValidator="Invalid"}validate(t){return this.control$.next(t),null}handleValidation(){this.el.setCustomValidity?.(this.control$.value?.touched&&this.control$.value?.invalid?this.tuiNativeValidator:"")}static{this.ɵfac=t.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"16.2.12",ngImport:t,type:c,deps:[],target:t.ɵɵFactoryTarget.Directive})}static{this.ɵdir=t.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"16.2.12",type:c,isStandalone:!0,selector:"[tuiNativeValidator]",inputs:{tuiNativeValidator:"tuiNativeValidator"},host:{listeners:{focusout:"handleValidation()"}},providers:[n(e,c,!0)],ngImport:t})}}t.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"16.2.12",ngImport:t,type:c,decorators:[{type:i,args:[{standalone:!0,selector:"[tuiNativeValidator]",providers:[n(e,c,!0)],host:{"(focusout)":"handleValidation()"}}]}],propDecorators:{tuiNativeValidator:[{type:a}]}});export{c as TuiNativeValidator};export default null;
