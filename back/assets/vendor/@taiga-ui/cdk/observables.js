/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/@taiga-ui/cdk@4.36.0/fesm2022/taiga-ui-cdk-observables.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{queueScheduler as n,Observable as e,startWith as r,fromEvent as t,concat as u,take as o,map as s,merge as c,endWith as i,takeWhile as l,repeat as p,tap as a,pipe as m,switchMap as f,EMPTY as d,takeUntil as h,NEVER as w,catchError as g,defaultIfEmpty as b,asyncScheduler as x}from"rxjs";import{tuiIsPresent as v,tuiGetOriginalArrayFromQueryList as C}from"@taiga-ui/cdk/utils/miscellaneous";import{takeUntilDestroyed as D}from"@angular/core/rxjs-interop";import{untracked as k,inject as y,ChangeDetectorRef as F,NgZone as j}from"@angular/core";function z(){return new e((n=>{let e=A();const r=()=>{e=A(),e.onclose=()=>r(),e.oncancel=e=>{e.preventDefault(),n.next()}};return r(),()=>e.destroy()}))}function A(){return"undefined"==typeof CloseWatcher?{destroy:()=>{}}:new CloseWatcher}function E(n){return new e((e=>n?.valueChanges?.pipe(r(n.value)).subscribe(e)))}function O(n,e,r={}){return t(n,e,r)}class W{constructor(n,e){this.stage=n,this.event=e}}function B(n){const{ownerDocument:e}=n;return u(O(n,"mousedown").pipe(o(1),s((n=>new W("start",n)))),c(O(e,"mousemove").pipe(s((n=>new W("continues",n)))),c(O(e,"mouseup"),O(e,"dragend")).pipe(o(1),s((n=>new W("end",n))),i(null))).pipe(l(v))).pipe(p())}function M(){return a((n=>n.preventDefault()))}function P(){return a((n=>n.stopPropagation()))}function V(n,e=Boolean){return m(f((r=>e(r)?n(r):d)))}function q(){return s((n=>{if(!v(n))throw new G;return n}))}class G extends Error{constructor(){super(ngDevMode?"Value must present":"")}}function H(n){return n.changes.pipe(r(null),s((()=>C(n))))}function I(n){return O(n===n.ownerDocument.documentElement?n.ownerDocument:n,"scroll")}function J(n){return m(h(w.pipe(D(n),g((()=>d)),b(null))))}const K={now:n.now.bind(n),schedule:(e,r,t)=>n.schedule((function(n){return k((()=>e.call(this,n)))}),r,t)};function L(n=y(F)){return a((()=>n.markForCheck()))}function N(n=y(j)){return r=>new e((e=>r.subscribe({next:r=>n.run((()=>e.next(r))),error:r=>n.run((()=>e.error(r))),complete:()=>n.run((()=>e.complete()))})))}function Q(n=y(j)){return r=>new e((e=>n.runOutsideAngular((()=>r.subscribe(e)))))}function R(n=y(j)){return m(Q(n),N(n))}class S{constructor(n,e=x){this.zoneConditionFn=n,this.scheduler=e}now(){return this.scheduler.now()}schedule(...n){return this.zoneConditionFn((()=>this.scheduler.schedule(...n)))}}function T(n=y(j),e=x){return new S(n.runOutsideAngular.bind(n),e)}function U(n=y(j),e=x){return new S(n.run.bind(n),e)}export{W as TuiDragState,G as TuiValuePresentException,z as tuiCloseWatcher,E as tuiControlValue,B as tuiDragAndDropFrom,V as tuiIfMap,q as tuiMustBePresent,M as tuiPreventDefault,H as tuiQueryListChanges,I as tuiScrollFrom,P as tuiStopPropagation,J as tuiTakeUntilDestroyed,O as tuiTypedFromEvent,K as tuiUntrackedScheduler,L as tuiWatch,R as tuiZoneOptimized,Q as tuiZonefree,T as tuiZonefreeScheduler,N as tuiZonefull,U as tuiZonefullScheduler};export default null;
