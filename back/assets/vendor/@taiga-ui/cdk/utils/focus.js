/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/@taiga-ui/cdk@4.36.0/fesm2022/taiga-ui-cdk-utils-focus.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{tuiIsHTMLElement as t}from"@taiga-ui/cdk/utils/dom";import{toSignal as e}from"@angular/core/rxjs-interop";import{TUI_TRUE_HANDLER as r,TUI_FALSE_HANDLER as n,svgNodeFilter as o}from"@taiga-ui/cdk/constants";import{tuiUntrackedScheduler as u}from"@taiga-ui/cdk/observables";import{merge as i,fromEvent as a,map as c,observeOn as s}from"rxjs";function m({activeElement:t}){if(!t?.shadowRoot)return t;let e=t.shadowRoot.activeElement;for(;e?.shadowRoot;)e=e.shadowRoot.activeElement;return e}function d(e){const r=m(e);t(r)&&r.blur()}function f(t){return e(i(a(t,"focusin").pipe(c(r)),a(t,"focusout").pipe(c(n))).pipe(s(u)),{initialValue:!1})}function l(e){if(e.hasAttribute("disabled")||"-1"===e.getAttribute("tabIndex"))return!1;if(t(e)&&e.isContentEditable||"0"===e.getAttribute("tabIndex"))return!0;switch(e.tagName){case"A":case"LINK":return e.hasAttribute("href");case"AUDIO":case"VIDEO":return e.hasAttribute("controls");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;case"INPUT":return"hidden"!==e.getAttribute("type");default:return!1}}function p(t){return!t.hasAttribute("disabled")&&("-1"===t.getAttribute("tabIndex")||l(t))}function b({initial:e,root:r,previous:n=!1,keyboard:u=!0}){if(!r.ownerDocument)return null;const i=u?l:p,a=r.ownerDocument.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,o);a.currentNode=e;do{if(t(a.currentNode)&&(e=a.currentNode),t(e)&&i(e))return e}while(n?a.previousNode():a.nextNode());return null}function h(t){return!!t?.ownerDocument&&m(t.ownerDocument)===t&&t.ownerDocument.hasFocus()}function w(t){const e=t?.ownerDocument&&m(t.ownerDocument);return!!e&&t.contains(e)&&!!t.ownerDocument?.hasFocus()}function A(t,e,r){for(t+=r;t>=0&&t<e.length;){if(e[t]?.focus(),h(e[t]))return;t+=r}}export{d as tuiBlurNativeFocused,f as tuiFocusedIn,b as tuiGetClosestFocusable,m as tuiGetNativeFocused,h as tuiIsNativeFocused,w as tuiIsNativeFocusedIn,l as tuiIsNativeKeyboardFocusable,p as tuiIsNativeMouseFocusable,A as tuiMoveFocus};export default null;
